<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Firebase OTP Test</title>
</head>
<body>
 
<h2>Firebase Phone OTP Login</h2>
 
<input id="phone" placeholder="10 digit mobile number">
<button id="sendOtp">Send OTP</button>
 
<br><br>
 
<input id="otp" placeholder="Enter OTP">
<button id="verifyOtp">Verify OTP</button>
 
<div id="recaptcha-container"></div>
 
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import {
    getAuth,
    RecaptchaVerifier,
    signInWithPhoneNumber
  } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";
 
  // ðŸ”´ REPLACE with YOUR Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyCqc07_iFk565ATUXfH0WN9X592-BpN454",
    authDomain: "barber-shop-4c26f.firebaseapp.com",
    projectId: "barber-shop-4c26f",
    storageBucket: "barber-shop-4c26f.firebasestorage.app",
    messagingSenderId: "213114385226",
    appId: "1:213114385226:web:dcdf67972a683f2055c7b3"
  };

  };
 
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
 
  // reCAPTCHA (required)
  window.recaptchaVerifier = new RecaptchaVerifier(
    "recaptcha-container",
    { size: "normal" },
    auth
  );
 
  let confirmationResult;
 
  document.getElementById("sendOtp").onclick = async () => {
    const phone = "+91" + document.getElementById("phone").value;
    try {
      confirmationResult = await signInWithPhoneNumber(
        auth,
        phone,
        window.recaptchaVerifier
      );
      alert("OTP sent");
    } catch (err) {
      console.error(err);
      alert(err.message);
    }
  };
 
  document.getElementById("verifyOtp").onclick = async () => {
    const otp = document.getElementById("otp").value;
    try {
      const result = await confirmationResult.confirm(otp);
      alert("Login successful: " + result.user.phoneNumber);
    } catch (err) {
      console.error(err);
      alert("Invalid OTP");
    }
  };
</script>
 
</body>
</html>
